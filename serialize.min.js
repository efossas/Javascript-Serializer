function serialize(e,t){switch(typeof e){case"function":var r=e.toString();if(r.search(/\[[^,'"`]+\]/g)>-1){if(window&&"object"==typeof window&&"Window"===Object.getPrototypeOf(window).constructor.name)i=window;else{if(!global||"object"!=typeof global)return;i=global}return i[e.name]===e?e.name:void 0}return r;case"object":if(null===e)return null;if("number"==typeof e.nodeType&&e.nodeType>0&&e.nodeType<13)try{return"(new DOMParser()).parseFromString(`"+(new XMLSerializer).serializeToString(e)+"`,'application/xml')"}catch(e){}if("function"==typeof e[Symbol.iterator]){let r="[";for(index of e){let e=serialize(index,t);"number"==typeof t&&"string"==typeof e&&e.length>t&&(e=e.slice(0,t)+"..."),r+=e+","}return 1===r.length?r+="]":r=r.substr(0,r.length-1)+"]","Array"===Object.getPrototypeOf(e).constructor.name?r:"new "+Object.getPrototypeOf(e).constructor.name+"("+r+")"}if(e instanceof RegExp)return String(e);var n,o=e.toString();if(-1===o.search(/\[.*\]/g))return n=o.search(/^[\w]*Error:/g)>-1?o.substr(o.indexOf(":")+2,o.length):String(e),"new "+Object.getPrototypeOf(e).constructor.name+"('"+n+"')";if("Object"!==Object.getPrototypeOf(e).constructor.name)return"'"+e.toString()+"'";var i,l="{",c=!0,a=Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e));for(let r=0;r<a.length;r++){let n=a[r],o=serialize(e[n],t);if("number"==typeof t&&"string"==typeof o&&o.length>t&&(o=o.slice(0,t)+"..."),void 0===o){c=!1;break}l+=n+":"+o+","}if(c)return 1===l.length?l+"}":l.substr(0,l.length-1)+"}";if(window&&"object"==typeof window&&"Window"===Object.getPrototypeOf(window).constructor.name)i=window;else{if(!global||"object"!=typeof global)return;i=global}var f=Object.getOwnPropertyNames(i);for(let t=0;t<f.length;t++){let r=f[t];if(i[r]===e)return r}return;case"number":let s=String(e);return s.search(/[a-zA-Z\+]+/g)>-1?s:e;case"symbol":let g=e.toString();return g.slice(0,g.indexOf("("))+"('"+g.slice(g.indexOf("(")+1,g.lastIndexOf(")"))+"')"+g.slice(g.lastIndexOf(")")+1,g.length);case"boolean":return e;default:return void 0===e?"undefined":"'"+e.replace(/'/g,"\\'")+"'"}}