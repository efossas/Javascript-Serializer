function serialize(e,t){switch(typeof e){case"function":var r=e.toString();if(r.search(/\[[^,'"`]+\]/g)>-1){var n;if(window&&"object"==typeof window&&"Window"===Object.getPrototypeOf(window).constructor.name)n=window;else{if(!global||"object"!=typeof global)return;n=global}return n[e.name]===e?e.name:void 0}return r;case"object":if(null===e)return null;if("number"==typeof e.nodeType&&e.nodeType>0&&e.nodeType<13)try{let t=(new XMLSerializer).serializeToString(e);return(new DOMParser).parseFromString(t,"application/xml").getElementsByTagName("parsererror").lenght<1?9===e.nodeType?"(new DOMParser()).parseFromString(`"+t+"`,'application/xml')":"(new DOMParser()).parseFromString(`"+t+"`,'application/xml').children[0]":"'"+(Object.getPrototypeOf(e).constructor.name+", "+t).replace(/\n/g,"").replace(/'/g,"\\'")+"'"}catch(e){}if("function"==typeof e[Symbol.iterator]){let r="[";for(index of e){let e=serialize(index,t);"number"==typeof t&&"string"==typeof e&&e.length>t&&(e=e.slice(0,t)+"..."),r+=e+","}return 1===r.length?r+="]":r=r.substr(0,r.length-1)+"]","Array"===Object.getPrototypeOf(e).constructor.name?r:"new "+Object.getPrototypeOf(e).constructor.name+"("+r+")"}if(e instanceof RegExp)return String(e);var o,i,a=e.toString();if(-1===a.search(/\[.*\]/g))return o=a.search(/^[\w]*Error:/g)>-1?a.substr(a.indexOf(":")+2,a.length):String(e),"new "+Object.getPrototypeOf(e).constructor.name+"('"+o+"')";if("Object"!==Object.getPrototypeOf(e).constructor.name)i=Object.getPrototypeOf(e).constructor.name;else if(void 0!==Symbol.toStringTag&&"string"==typeof e[Symbol.toStringTag])return e[Symbol.toStringTag];var l="{",c=Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e));for(let r=0;r<c.length;r++){let n=c[r],o=serialize(e[n],t);"number"==typeof t&&"string"==typeof o&&o.length>t&&(o=o.slice(0,t)+"..."),l+="symbol"==typeof n?n.toString()+":"+o+",":n+":"+o+","}return 1===l.length?l+="}":l=l.substr(0,l.length-1)+"}",i?"'"+i+", "+l+"'":l;case"number":let g=String(e);return g.search(/[a-zA-Z\+]+/g)>-1?g:e;case"symbol":let s=e.toString();return s.slice(0,s.indexOf("("))+"('"+s.slice(s.indexOf("(")+1,s.lastIndexOf(")"))+"')"+s.slice(s.lastIndexOf(")")+1,s.length);case"boolean":return e;default:return void 0===e?"undefined":"'"+e.replace(/'/g,"\\'")+"'"}}