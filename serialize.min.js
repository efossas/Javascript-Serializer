function serialize(e,t){switch(typeof e){case"function":var r=e.toString();if(r.search(/\[[^,'"`]+\]/g)>-1){var n;if(window&&"object"==typeof window&&"Window"===Object.getPrototypeOf(window).constructor.name)n=window;else{if(!global||"object"!=typeof global)return;n=global}return n[e.name]===e?e.name:void 0}return r;case"object":if(null===e)return null;if("number"==typeof e.nodeType&&e.nodeType>0&&e.nodeType<13)try{return 9===e.nodeType?"(new DOMParser()).parseFromString(`"+(new XMLSerializer).serializeToString(e)+"`,'application/xml')":"(new DOMParser()).parseFromString(`"+(new XMLSerializer).serializeToString(e)+"`,'application/xml').children[0]"}catch(e){}if("function"==typeof e[Symbol.iterator]){let r="[";for(index of e){let e=serialize(index,t);"number"==typeof t&&"string"==typeof e&&e.length>t&&(e=e.slice(0,t)+"..."),r+=e+","}return 1===r.length?r+="]":r=r.substr(0,r.length-1)+"]","Array"===Object.getPrototypeOf(e).constructor.name?r:"new "+Object.getPrototypeOf(e).constructor.name+"("+r+")"}if(e instanceof RegExp)return String(e);var o,i,l=e.toString();if(-1===l.search(/\[.*\]/g))return o=l.search(/^[\w]*Error:/g)>-1?l.substr(l.indexOf(":")+2,l.length):String(e),"new "+Object.getPrototypeOf(e).constructor.name+"('"+o+"')";if("Object"!==Object.getPrototypeOf(e).constructor.name)i=Object.getPrototypeOf(e).constructor.name;else if(void 0!==Symbol.toStringTag&&"string"==typeof e[Symbol.toStringTag])return e[Symbol.toStringTag];var a="{",c=Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e));for(let r=0;r<c.length;r++){let n=c[r],o=serialize(e[n],t);"number"==typeof t&&"string"==typeof o&&o.length>t&&(o=o.slice(0,t)+"..."),a+="symbol"==typeof n?n.toString()+":"+o+",":n+":"+o+","}return 1===a.length?a+="}":a=a.substr(0,a.length-1)+"}",i?"'"+i+", "+a+"'":a;case"number":let s=String(e);return s.search(/[a-zA-Z\+]+/g)>-1?s:e;case"symbol":let g=e.toString();return g.slice(0,g.indexOf("("))+"('"+g.slice(g.indexOf("(")+1,g.lastIndexOf(")"))+"')"+g.slice(g.lastIndexOf(")")+1,g.length);case"boolean":return e;default:return void 0===e?"undefined":"'"+e.replace(/'/g,"\\'")+"'"}}